<CardRow>:
    orientation: 'horizontal'
    size_hint: 1.0, 1.0
    padding: dp(30), 0, dp(30), 0
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
    Label:
        text: root.front
        text_size: self.size
        halign: 'left'
        size_hint: 0.4, 1.0
    Label:
        text: root.back
        text_size: self.size
        halign: 'left'
        size_hint: 0.6, 1.0

<DeckRow>:
    orientation: 'horizontal'
    size_hint: 1.0, 1.0
    padding: dp(30), 0, dp(30), 0
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
    Label:
        text: root.deck_name
        text_size: self.size
        halign: 'left'
        size_hint: 0.6, 1.0
    Label:
        text: root.num_of_cards
        text_size: self.size
        halign: 'left'
        size_hint: 0.4, 1.0

<DecksScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            size_hint: 1, 0.15
            text: 'Decks'
            font_size: dp(30)
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.15
            padding: dp(30), 0, dp(30), 0
            Label:
                text: 'Name'
                text_size: self.size
                size_hint: 0.6, 1.0
                halign: 'left'
            Label:
                text: '# of Cards'
                text_size: self.size
                size_hint: 0.4, 1.0
                halign: 'left'
        DeckRV:
            id: deck_rv
            viewclass: 'DeckRow'
            SelectableRecycleBoxLayout:
                default_size: None, dp(35)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                multiselect: False
                touch_multiselect: False    
        BoxLayout:
            size_hint: 1, 0.15
            orientation: 'horizontal'
            Button:
                text: 'Study'
                on_release: root.study()
            Button:
                text: 'View'
                on_release: root.view_deck()
            Button:
                text: 'New'
                on_release: root.new_deck()

<CardsScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            size_hint: 1, 0.15
            text: 'Cards'
            font_size: dp(30)
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.15
            padding: dp(30), 0, dp(30), 0
            Label:
                text: 'Front'
                text_size: self.size
                size_hint: 0.4, 1.0
                halign: 'left'
            Label:
                text: 'Back'
                text_size: self.size
                size_hint: 0.6, 1.0
                halign: 'left'
        CardRV:
            id: card_rv
            viewclass: 'CardRow'
            SelectableRecycleBoxLayout:
                default_size: None, dp(35)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                multiselect: False
                touch_multiselect: False    
        BoxLayout:
            size_hint: 1, 0.15
            orientation: 'horizontal'
            Button:
                text: 'Back'
                on_release: root.manager.current = 'Decks'
            Button:
                text: 'New'
                on_release: root.new_card()
            Button:
                text: 'Edit'
            Button:
                text: 'Delete'
                on_release: root.del_card()

<StudyScreen>:
    BoxLayout:
        orientation: 'vertical'
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            padding: dp(30), 0, dp(30), 0
            Label:
                id: text
                text: root.text
                text_size: self.width, None
                size_hint: 1, None
                height: self.texture_size[1]
                halign: 'center'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.15
            Button:
                text: 'Previous'
                on_release: root.prev()
            Button:
                text: 'Menu'
                on_release: root.manager.current = 'Decks'
            Button:
                text: 'Flip'
                on_release: root.flip()
            Button:
                text: 'Next'
                on_release: root.next()
